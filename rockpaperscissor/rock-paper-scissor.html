<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rock-paper-scissor</title>
    <link rel="stylesheet" href="/cssfiles/rock-paper-scissor.css">
</head>
<body>
    <div class="container">
        <p>Rock-<span>Paper-</span>Scissor</p><hr>
        <div class="buttons">
            <button onclick="mymove('rock')"><img src="https://static.thenounproject.com/png/88661-200.png" alt="rock" class="rock" height="50" width="50"></button>
            <button onclick="mymove('paper')"><img src="https://static.thenounproject.com/png/477912-200.png" alt="paper" class="paper" height="50" width="50"></button>
            <button onclick="mymove('scissor')"><img src="https://static.thenounproject.com/png/88666-200.png" alt="scissor" class="scissor" height="50" width="50"></button><br><br><br>
        </div>
        <div class="info">
            <p>Rock</p>
            <p>Paper</p>
            <p>Scissor</p>
        </div>
        <hr>
        <div class="result">
            <p id="demo"><p id="demo2"></p></p>
            <p id="score"></p>
        </div>
        <button id="reset" onclick="score.wins=0;
        score.ties=0;
        score.losses=0;
        localStorage.removeItem('haha');
        reset();">Reset Score</button>
    </div>
    <script>
        let score = (JSON.parse((localStorage.getItem("haha"))));
        if (score===null){
            score = {
                wins:0,
                ties:0,
                losses:0
            }
        }
        function mymove(usermove){
            let result = '';
            const computermove = getrandom();
            if (usermove==='rock'){
                if (computermove==='rock'){
                    result = 'Tie'
                }
                else if (computermove=== 'paper'){
                    result = 'Sorry you loss'
                }
                else if (computermove==='scissor'){
                    result = 'Congratulations you won'
                }
            }
            else if (usermove==='paper'){
                if (computermove==='paper'){
                    result = 'Tie'
                }
                else if (computermove==='scissor'){
                    result = 'Sorry you loss'
                }
                else if (computermove==='rock'){
                    result = 'Congratulations you won'
                }
            }
            else if (usermove==="scissor"){
                if (computermove==='scissor'){
                    result = 'Tie'
                }
                else if (computermove==='rock'){
                    result = 'Sorry you loss'
                }
                else if (computermove==='paper'){
                    result = 'Congratulations you won'
                }
            }
        if (result==="Tie"){
            score.ties += 1;
        }
        else if (result==="Congratulations you won"){
            score.wins +=1;
        }
        else if (result === "Sorry you loss"){
            score.losses += 1;
        }
        localStorage.setItem("haha",JSON.stringify(score))
        document.getElementById("demo").innerHTML = (`You picked ${usermove} Computer picked ${computermove + "<br>" + "<br>"}  ${result + "<br>" + "<br>"}
            wins:${score.wins} 
            ties:${score.ties} 
            losses:${score.losses}`)
        }
        document.getElementById("demo2").style.color = 'yellow'
        
        function getrandom(){
            random = Math.random()
            if (random>0 && random < 1/3){
                computermove = 'rock'
            }
            else if (random>1/3 && random < 2/3){
                computermove = 'paper'
            }
            else{
                computermove = 'scissor'
            }
            return computermove
        }
        function reset(){
            document.getElementById("demo").innerHTML = (`You picked ${usermove} Computer picked ${computermove} + "<br>" + "<br>"}
            wins:${score.wins} 
            ties:${score.ties} 
            losses:${score.losses}`);
        }
       

    </script>  
</body>
</html>